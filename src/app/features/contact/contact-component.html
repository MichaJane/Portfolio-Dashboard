<main class="contact-page">
  <div class="contact-info">
    <h2>Contact Me</h2>
    <p class="contact-tagline">Feel free to contact me for any questions.</p>
    @if(contactLinks$ | async; as links){
    <div class="contact-links">
      <a
        [href]="`mailto:${links.contact.email}`"
        target="_blank"
        rel="noopener noreferrer"
      >
        <mat-icon>mail_outline</mat-icon>
        <span>Email</span>
      </a>
      <a [href]="links.contact.linkedin" target="_blank">
        <mat-icon svgIcon="linkedin"></mat-icon>
        <span>Linkedin</span>
      </a>
      <a [href]="links.contact.github" target="_blank">
        <mat-icon svgIcon="github"></mat-icon>
        <span>Github</span>
      </a>
    </div>
    }
    <button mat-flat-button color="primary" class="resume-button">
      Download Resume
    </button>
  </div>
  <form
    class="contact-form"
    #f="ngForm"
    [formGroup]="contactForm"
    (ngSubmit)="submit()"
  >
    <mat-form-field appearance="outline" class="field-group">
      <mat-label>Full name</mat-label>
      <input
        matInput
        placeholder="Please enter your name"
        formControlName="fullName"
      />
    </mat-form-field>

    <mat-form-field appearance="outline" class="field-group">
      <mat-label>Email</mat-label>
      <input
        matInput
        placeholder="Please enter your email"
        formControlName="email"
      />
      <mat-error>{{ updateErrorMessage("email") }}</mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" class="field-group">
      <mat-label>Subject</mat-label>
      <input matInput placeholder="Subject" formControlName="subject" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="field-group">
      <mat-label>Message</mat-label>
      <textarea matInput formControlName="message" rows="5"></textarea>
      <span class="hint">
        {{ contactForm.get("message")?.value?.length || 0 }}/500
      </span>
      <mat-error>{{ updateErrorMessage("message") }}</mat-error>
    </mat-form-field>

    <div class="form-actions">
      <button
        mat-raised-button
        type="reset"
        class="reset-btn"
        (click)="resetForm()"
      >
        Reset
      </button>
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="contactForm.invalid"
      >
        Submit
      </button>
    </div>
  </form>
</main>
